option_settings:
  aws:elasticbeanstalk:application:environment:
    NODE_ENV: production
    PORT: 8081
    FRONTEND_PORT: 3000
    PRODUCTION_URL: http://localhost:8081
  aws:elasticbeanstalk:environment:proxy:staticfiles:
    /static: static

container_commands:
  01_install_global_deps:
    command: "npm install -g typescript"
  02_install_dependencies:
    command: "cd backend && npm install"
  03_make_start_script_executable:
    command: "chmod +x ./start.sh"
  04_install_pm2:
    command: "npm install -g pm2"
  05_build_typescript:
    command: "cd backend && npm run build"